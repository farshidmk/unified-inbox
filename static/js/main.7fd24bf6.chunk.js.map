{"version":3,"sources":["layouts/channels.jsx","components/searchBox.jsx","components/firstCharOfName.jsx","components/filterMenuForThreads.jsx","services/httpUtil.js","components/helper.js","components/messageContent.jsx","components/showCommentReply.jsx","components/inputText.jsx","layouts/messageInfo.jsx","components/contactProfile.jsx","components/contactDetails.jsx","layouts/customer.jsx","layouts/threads.jsx","App.jsx","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","display","appBarHeight","alignItems","justifyContent","backgroundColor","palette","primary","main","mixins","toolbar","menuButton","width","height","menuButtonHide","hide","drawer","flexFlow","flexShrink","whiteSpace","drawerOpen","overflowY","transition","transitions","create","easing","sharp","duration","enteringScreen","transitionTimingFunction","transitionDuration","drawerClose","leavingScreen","overflowX","spacing","breakpoints","up","list","paddingLeft","minWidth","textInList","fontSize","padding","iconInList","link","marginTop","channelsSection","flex","Channels","props","classes","React","useState","open","setOpen","Drawer","variant","className","clsx","paper","IconButton","color","aria-label","onClick","status","refetch","Typography","style","marginLeft","Divider","CircularProgress","channels","List","map","ch","index","ListItem","button","key","id","selected","selectedChannelId","event","channelID","onSelectedChannelChange","ListItemIcon","Badge","max","badgeContent","count","ListItemText","name","boxShadow","input","SearchBox","Paper","iconButton","onToggle","InputBase","placeholder","inputProps","value","onChange","onSearchQueryClick","disabled","length","margin","orange","dark","fade","light","small","medium","large","FirstCharOfName","size","initials","firstName","toUpperCase","lastName","Avatar","FilterMenuForThreads","anchorEl","setAnchorEl","text","setText","threadStatuses","threadStatusesStatus","useEffect","handleClose","currentTarget","textContent","Button","aria-controls","aria-haspopup","endIcon","keepMounted","Boolean","onClose","MenuItem","onMenuChange","fetchData","url","a","token","localStorage","getItem","header","Headers","append","requestOptions","method","headers","redirect","fetch","process","result","json","totalCount","data","results","console","log","sendData","body","JSON","stringify","refreshRoot","flexDirection","refreshButton","showDate","date","Date","toLocaleString","RefresherComponent","handleRefresh","card","avatar","MessageContent","content","document","getElementById","message","scrollHeight","clientHeight","isOverflow","setIsOverflow","showMore","setShowMore","Card","CardHeader","createdBy","charAt","title","subheader","createdDate","CardContent","dangerouslySetInnerHTML","__html","isOnlyOne","maxHeight","overflow","i","maxWidth","marginRight","border","borderRadius","commentText","textAlign","secondary","ShowCommentReply","TabPanel","children","other","Box","component","role","hidden","aria-labelledby","p","a11yProps","rootText","textInput","editor","overflowWrap","wordBreak","tab","minHeight","replyTab","commentTab","appBarSection","sendButton","InputText","threadStatus","indexValue","setIndexValue","EditorState","createEmpty","replyState","setReplyState","commentState","setCommentState","AppBar","position","Tabs","newValue","Tab","label","getCurrentContent","convertToRaw","blocks","draftToHtml","type","visibility","onIsSendingMessage","threadId","messagesRefresh","editorState","onEditorStateChange","editorClassName","options","inline","inDropdown","undefined","dropdownClassName","grow","flexGrow","messagesSection","paddingBottom","cardRoot","MessageInfo","threadRefetch","selectedThread","onChangeStatus","isChangingThreadStatus","setIsOnlyOne","assigneeMenuAnchorEl","setAssigneeMenuAnchorEl","statusMenuAnchorEl","setStatusMenuAnchorEl","userAssignee","setUserAssignee","listOfFilteredUsers","setListOfFilteredUsers","changeAssigneeStatus","setChangeAssigneeStatus","totalMessagesCount","setTotalMessagesCount","isSendingMessage","setIsSendingMessage","queryKey","page","useInfiniteQuery","queryFn","config","getFetchMore","lastGroup","allGroups","refetchOnWindowFocus","enabled","messages","messagesStatus","fetchMoreMessages","fetchMore","canFetchMoreMessages","canFetchMore","isFetchingMoreMessages","isFetchingMore","useQuery","staleTime","threadsStatuses","threadsStatusesStatus","selectedAssignee","setSelectedAssignee","assignee","handleAssigneeClose","users","usersStatus","userId","username","filteredUsers","upperCaseUserAssignee","filter","user","indexOf","email","Toolbar","cursor","e","ts","StyledMenu","TextField","target","fullWidth","changeAssignee","msgGroup","Fragment","msg","onEnter","state","withStyles","elevation","getContentAnchorEl","verticalAlign","ContactProfile","selectedContact","contactFirstName","contactLastName","heading","typography","pxToRem","flexBasis","scroll","ContactDetails","panel","expanded","setExpanded","Accordion","isExpanded","AccordionSummary","expandIcon","AccordionDetails","telephone","companyName","Alert","appbarHieght","down","customerInfoSection","paddingTop","Customer","Contacts","openDrawer","setOpenDrawer","openSnackbar","setOpenSnackbar","anchor","align","Fade","in","timeout","enter","exit","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","reason","severity","background","listSection","ul","searchInputOpen","searchInputClose","tools","space","threads","messageInfo","Threads","setFilter","setIsChangingThreadStatus","showSearchInput","setShowSearchInput","searchQuery","setSearchQuery","searchByQuery","setSearchByQuery","totalThreadsCount","setTotalThreadsCount","window","innerHeight","windowHeight","setWindowHeight","addEventListener","fetchedThreads","threadsStatus","fetchMoreThreads","canFetchMoreThreads","isFetchingMoreThreads","handleToggleSearchInput","setSelectedThread","axis","resizeHandles","Zoom","selectedType","show","Array","Skeleton","threadsGroup","thread","ListItemAvatar","contacts","subject","tag","smallScreenSection","backdropRoot","justify","backdrop","zIndex","App","isSmallScreen","useMediaQuery","selectedChannelID","setSelectedChannelID","fetchedChannels","channelsStatus","channelsRefetch","FormData","then","response","setItem","parse","catch","error","CssBaseline","location","hostname","match","setDefaultTranslations","en","fr","setDefaultLanguage","createMuiTheme","amber","ReactDOM","render","ThemeProvider","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7fd24bf6.chunk.js","sourcesContent":["import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Badge from \"@material-ui/core/Badge\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { Typography } from \"@material-ui/core\";\n\nconst drawerWidth = \"15%\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appBarHeight: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    backgroundColor: theme.palette.primary.main,\n    ...theme.mixins.toolbar,\n  },\n  menuButton: {\n    width: 42,\n    height: 42,\n  },\n  menuButtonHide: {\n    width: 42,\n    height: 42,\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    display: \"flex\",\n    flexFlow: \"column\",\n    height: \"100vh\",\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    overflowY: \"auto\",\n\n    // backgroundColor: \"#cecece\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    transitionTimingFunction: \"cubic-bezier(0.6, -0.28, 0.74, 0.05)\",\n    transitionDuration: \"500ms\",\n  },\n  drawerClose: {\n    // backgroundColor: \"#ffffff\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(5) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(5) + 1,\n    },\n  },\n  list: {\n    paddingLeft: 8,\n    minWidth: 5,\n  },\n  textInList: {\n    fontSize: 8,\n    padding: -10,\n  },\n  iconInList: {\n    minWidth: 35,\n  },\n  link: {\n    marginTop: 80,\n  },\n  channelsSection: {\n    flex: \"1\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n  },\n}));\n\nconst Channels = (props) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleChannelClick = (event, channelID) => {\n    props.onSelectedChannelChange(channelID);\n  };\n\n  return (\n    <Drawer\n      variant=\"permanent\"\n      className={clsx(classes.drawer, {\n        [classes.drawerOpen]: open,\n        [classes.drawerClose]: !open,\n      })}\n      classes={{\n        paper: clsx({\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        }),\n      }}\n    >\n      <div className={classes.appBarHeight}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={props.status === \"error\" ? props.refetch : handleDrawerOpen}\n          className={clsx(classes.menuButton, {\n            [classes.hide]: open,\n          })}\n        >\n          {props.status === \"error\" ? <RefreshIcon /> : <MenuIcon />}\n        </IconButton>\n        <Typography\n          variant=\"subtitle1\"\n          className={clsx({\n            [classes.hide]: !open,\n          })}\n          style={{ marginLeft: \"5px\" }}\n        >\n          Channel\n        </Typography>\n        <IconButton\n          className={clsx(classes.menuButtonHide, {\n            [classes.hide]: !open,\n          })}\n          onClick={handleDrawerClose}\n        >\n          <ChevronLeftIcon />\n        </IconButton>\n      </div>\n\n      <div className={classes.channelsSection}>\n        <Divider />\n        {props.status === \"error\" ? (\n          <div>Failed to load channels</div>\n        ) : props.status === \"loading\" ? (\n          <CircularProgress />\n        ) : props.status === \"success\" && props.channels ? (\n          <List>\n            {props.channels.map((ch, index) => (\n              <ListItem\n                button\n                className={classes.list}\n                key={ch.id}\n                selected={props.selectedChannelId === ch.id}\n                onClick={(event) => handleChannelClick(event, ch.id)}\n              >\n                <ListItemIcon className={classes.iconInList}>\n                  <Badge color=\"secondary\" max={99} badgeContent={ch.count}>\n                    <MailIcon />\n                  </Badge>\n                </ListItemIcon>\n                <ListItemText\n                  primary={ch.name}\n                  className={classes.textInList}\n                />\n              </ListItem>\n            ))}\n          </List>\n        ) : (\n          <div>Error</div>\n        )}\n      </div>\n    </Drawer>\n  );\n};\n\nexport default Channels;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // padding: \"2px 2px\",\n    backgroundColor: theme.palette.primary.main,\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    boxShadow: \"0px 0px 0px 0px\",\n  },\n  input: {\n    // marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n}));\n\nconst SearchBox = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <IconButton\n        className={classes.iconButton}\n        aria-label=\"menu\"\n        onClick={props.onToggle}\n      >\n        <CancelIcon />\n      </IconButton>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Search...\"\n        inputProps={{ \"aria-label\": \"search threads\" }}\n        value={props.value}\n        onChange={props.onChange}\n      />\n      <IconButton\n        aria-label=\"search\"\n        onClick={props.onSearchQueryClick}\n        disabled={!props.value || props.value.length < 1}\n      >\n        <SearchIcon />\n      </IconButton>\n    </Paper>\n  );\n};\nexport default SearchBox;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    \"& > *\": {\n      margin: theme.spacing(1)\n    }\n  },\n  orange: {\n    color: theme.palette.primary.dark,\n    backgroundColor: fade(theme.palette.primary.light, 0.5)\n  },\n  small: {\n    fontSize: theme.spacing(2),\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  },\n  medium: {\n    fontSize: theme.spacing(5),\n    width: theme.spacing(7),\n    height: theme.spacing(7)\n  },\n  large: {\n    width: theme.spacing(14),\n    height: theme.spacing(14),\n    fontSize: theme.spacing(8)\n  }\n}));\n\nconst FirstCharOfName = props => {\n  const classes = useStyles();\n  let size;\n  switch (props.size) {\n    case \"small\":\n      size = classes.small;\n      break;\n    case \"medium\":\n      size = classes.medium;\n      break;\n    case \"large\":\n    default:\n      size = classes.large;\n      break;\n  }\n  var initials =\n    props.firstName[0].toUpperCase() + \"\" + props.lastName[0].toUpperCase();\n  return (\n    <div className={classes.root}>\n      <Avatar className={`${classes.orange} ${size}`}>{initials}</Avatar>\n    </div>\n  );\n};\n\nexport default FirstCharOfName;\n","import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport { CircularProgress } from \"@material-ui/core\";\n\nexport default function FilterMenuForThreads(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [text, setText] = React.useState(\"\");\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const { threadStatuses, threadStatusesStatus } = props;\n\n  useEffect(() => {\n    if (threadStatusesStatus === \"success\" && threadStatuses.length > 0) {\n      setText(threadStatuses[0]);\n    }\n  }, [threadStatuses, threadStatusesStatus]);\n\n  const handleClose = (event) => {\n    if (event.currentTarget.textContent) {\n      setText(event.currentTarget.textContent);\n    } else if (\n      threadStatusesStatus === \"success\" &&\n      threadStatuses.length > 0\n    ) {\n      setText(threadStatuses[0]);\n    }\n    setAnchorEl(null);\n  };\n\n  return (\n    <>\n      {threadStatusesStatus === \"success\" ? (\n        <div>\n          <Button\n            aria-controls=\"simple-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            endIcon={<ArrowDropDownIcon />}\n          >\n            {text}\n          </Button>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            {threadStatuses &&\n              threadStatuses.map((key) => {\n                return (\n                  <MenuItem\n                    key={key}\n                    onClick={(event) => {\n                      handleClose(event);\n                      props.onMenuChange(`${key}`);\n                    }}\n                  >\n                    {key}\n                  </MenuItem>\n                );\n              })}\n          </Menu>\n        </div>\n      ) : (\n        <CircularProgress color=\"secondary\" />\n      )}\n    </>\n  );\n}\n","const TOKEN =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc0FwaUtleSI6ZmFsc2UsImNyZWF0ZWRUaW1lIjoiMjAyMC0wOC0xMFQxMToxODoxOS44OTgiLCJhcHBWZXJzaW9uIjoiZGMyZjRhZSIsInJvbGVzIjpbeyJhdXRob3JpdHkiOiJST0xFX1VTRVIifSx7ImF1dGhvcml0eSI6IlJPTEVfQURNSU4ifV0sInVzZXJuYW1lIjoiYXNoa2FsYSJ9.hOIgMtvzvfKaBqMmh9bHWt5UhgFyFfAya9VEzQ4EFKI\";\n\nexport async function fetchData(url) {\n  let token = localStorage.getItem(\"TOKEN\");\n  try {\n    let header = new Headers();\n    header.append(\"x-auth-token\", token);\n\n    let requestOptions = {\n      method: \"GET\",\n      headers: header,\n      redirect: \"follow\",\n    };\n    let result = await fetch(\n      process.env.REACT_APP_API_ENDPOINT + url,\n      requestOptions\n    );\n    result = await result.json();\n    if (result.totalCount) {\n      result = { data: result.results, totalCount: result.totalCount };\n    } else {\n      result = result.results;\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\nexport async function sendData(url, body) {\n  let token = localStorage.getItem(\"TOKEN\");\n  try {\n    let header = new Headers();\n    header.append(\"x-auth-token\", token);\n    header.append(\"Content-Type\", \"application/json\");\n\n    let requestOptions = {\n      method: \"POST\",\n      headers: header,\n      redirect: \"follow\",\n      body: JSON.stringify(body),\n    };\n    let result = await fetch(\n      process.env.REACT_APP_API_ENDPOINT + url,\n\n      requestOptions\n    );\n    return result;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\n\n// const token =\n//   \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc0FwaUtleSI6ZmFsc2UsImNyZWF0ZWRUaW1lIjoiMjAyMC0wNy0xNVQxNTo1MzoxOC44MjkiLCJhcHBWZXJzaW9uIjoiZjA3OTFmMSIsInJvbGVzIjpbeyJhdXRob3JpdHkiOiJST0xFX1VTRVIifSx7ImF1dGhvcml0eSI6IlJPTEVfQURNSU4ifV0sInVzZXJuYW1lIjoiYXNoa2FsYSJ9.tEto1BQm2y4SECDk9u-o17kPt3z_sV618Z5uLDagMyY\";\n// export async function fetchData(url, method = \"FETCH\", body = undefined) {\n//   try {\n//     url = encodeURI(process.env.REACT_APP_API_ENDPOINT + url);\n//     const response = await fetch(url, {\n//       method: method,\n//       headers: {\n//         Accept: \"application/json\",\n//         \"Content-Type\": \"application/json\",\n//         \"x-auth-token\": `${token}`,\n//       },\n//       ...(body && { body: JSON.stringify(body) }),\n//     });\n//     if (response.ok) {\n//       // 204 doesn't have any content\n//       if (response.status === 204) {\n//         return true;\n//       } else {\n//         return response.json();\n//       }\n//     } else {\n//       if (response.status === 401) {\n//         //unauthorized\n//         throw Error(\"unauthorized/reLogin\");\n//       }\n//       throw Error(response.statusText);\n//     }\n//   } catch (error) {\n//     throw error;\n//   }\n// }\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\n\nconst useStyles = makeStyles((theme) => ({\n  refreshRoot: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  refreshButton: {\n    minWidth: \"150px\",\n  },\n}));\n\nexport function showDate(date) {\n  let showDate = new Date(date);\n  if (showDate === \"Invalid Date\") {\n    return date;\n  }\n  return showDate.toLocaleString();\n}\n\nexport const RefresherComponent = (props) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.refreshRoot}>\n      <h3>Something went Wrong!</h3>\n      <Button\n        className={classes.refreshButton}\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={props.handleRefresh}\n        endIcon={<RefreshIcon />}\n      >\n        Refresh\n      </Button>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\nimport { showDate } from \"./helper\";\nimport { Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    width: \"93%\",\n    marginLeft: \"5%\",\n    marginTop: \"10px\",\n    // maxHeight: \"30%\",\n    overflowY: \"auto\",\n    backgroundColor: \"#fafafa\",\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  header: {\n    backgroundColor: theme.palette.primary,\n    color: \"white\",\n  },\n}));\n\nexport default function MessageContent(props) {\n  const classes = useStyles();\n  let content = document.getElementById(`content-${props.message.id}`);\n  const [isOverflow, setIsOverflow] = useState(\n    content && content.scrollHeight > content.clientHeight ? true : false\n  );\n\n  useEffect(() => {\n    setIsOverflow(\n      content && content.scrollHeight > content.clientHeight ? true : false\n    );\n  }, [content]);\n\n  const [showMore, setShowMore] = useState(false);\n  return (\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={\n          <Avatar className={classes.avatar}>\n            {props.message.createdBy\n              ? `${props.message.createdBy.firstName.charAt(\n                  0\n                )}${props.message.createdBy.lastName.charAt(0)}`\n              : \"?\"}\n          </Avatar>\n        }\n        title={\n          <Typography variant=\"h6\" color=\"primary\">\n            {props.message.createdBy\n              ? `${props.message.createdBy.firstName} ${props.message.createdBy.lastName}`\n              : \"?\"}\n          </Typography>\n        }\n        subheader={\n          <Typography color=\"secondary\">\n            {showDate(props.message.createdDate)}\n          </Typography>\n        }\n        className={classes.header}\n      />\n      <CardContent>\n        <div id={`container-${props.message.id}`}>\n          <div\n            id={`content-${props.message.id}`}\n            dangerouslySetInnerHTML={{ __html: props.message.body }}\n            style={{\n              whiteSpace: \"normal\",\n              ...(!showMore && !props.isOnlyOne\n                ? { maxHeight: \"370px\" }\n                : null),\n              ...(!showMore && !props.isOnlyOne\n                ? { overflow: \"hidden\" }\n                : null),\n            }}\n          />\n          {isOverflow && (\n            <div\n              style={{\n                marginTop: \"10px\",\n                width: \"100%\",\n                display: \"flex\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Button onClick={() => setShowMore((i) => !i)} variant=\"outlined\">\n                {showMore ? \"show less\" : \"show more\"}\n              </Button>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { showDate } from \"./helper\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    maxWidth: \"70%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    marginTop: \"10px\",\n    overflowY: \"hidden\",\n    border: \"2px solid #ffeb00\",\n    borderRadius: \"9px 9px 9px 9px\",\n    backgroundColor: \"#fef8f0\",\n  },\n  content: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  commentText: {\n    padding: 2,\n    textAlign: \"center\",\n  },\n  avatar: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default function ShowCommentReply(props) {\n  const classes = useStyles();\n  let content = document.getElementById(`content-${props.message.id}`);\n  const [isOverflow, setIsOverflow] = useState(\n    content && content.scrollHeight > content.clientHeight ? true : false\n  );\n\n  useEffect(() => {\n    setIsOverflow(\n      content && content.scrollHeight > content.clientHeight ? true : false\n    );\n  }, [content]);\n\n  const [showMore, setShowMore] = useState(false);\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={\n          <Avatar className={classes.avatar}>\n            {props.message.createdBy\n              ? `${props.message.createdBy.firstName.charAt(\n                  0\n                )}${props.message.createdBy.lastName.charAt(0)}`\n              : \"?\"}\n          </Avatar>\n        }\n        title={\n          <Typography variant=\"h6\" color=\"secondary\">\n            {props.message.createdBy\n              ? `${props.message.createdBy.firstName} ${props.message.createdBy.lastName}`\n              : \"?\"}\n          </Typography>\n        }\n        subheader={\n          <Typography color=\"primary\">\n            {showDate(props.message.createdDate)}\n          </Typography>\n        }\n      />\n      <CardContent className={classes.content}>\n        <div id={`container-${props.message.id}`}>\n          <div\n            id={`content-${props.message.id}`}\n            dangerouslySetInnerHTML={{ __html: props.message.body }}\n            style={{\n              whiteSpace: \"normal\",\n              ...(!showMore && !props.isOnlyOne\n                ? { maxHeight: \"370px\" }\n                : null),\n              ...(!showMore && !props.isOnlyOne\n                ? { overflow: \"hidden\" }\n                : null),\n            }}\n          />\n          {isOverflow && (\n            <div\n              style={{\n                marginTop: \"10px\",\n                width: \"100%\",\n                display: \"flex\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Button onClick={() => setShowMore((i) => !i)} variant=\"outlined\">\n                {showMore ? \"show less\" : \"show more\"}\n              </Button>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport draftToHtml from \"draftjs-to-html\";\nimport { convertToRaw, EditorState } from \"draft-js\";\n\nimport { Editor } from \"react-draft-wysiwyg\";\nimport \"../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { sendData } from \"../services/httpUtil\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Box\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={1}>{children}</Box>}\n    </Box>\n  );\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"0px\",\n    height: \"100%\",\n    display: \"flex\",\n    flexFlow: \"column\",\n  },\n  rootText: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n    textInput: {\n      overflowY: \"hidden\",\n    },\n  },\n  editor: {\n    padding: \"0px 5px\",\n    maxHeight: \"30vh\",\n    overflow: \"auto\",\n    maxWidth: \"100%\",\n    whiteSpace: \"prewrap\",\n    overflowWrap: \"break-word\",\n    wordBreak: \"break-word\",\n  },\n  tab: {\n    // flex: \"1\",\n    // overflow: \"auto\",\n    minHeight: \"160px\",\n    maxWidth: \"100%\",\n  },\n  replyTab: {\n    backgroundColor: \"#fafafa\",\n  },\n  commentTab: {\n    backgroundColor: \"#fef8f0\",\n  },\n  appBarSection: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  sendButton: {\n    marginLeft: \"auto\",\n    minWidth: \"100px\",\n    marginRight: \"10px\",\n  },\n}));\n\nexport default function InputText(props) {\n  const classes = useStyles();\n  const [indexValue, setIndexValue] = useState(\n    props.threadStatus === \"CLOSED\" || props.threadStatus === \"COMPLETED\"\n      ? 1\n      : 0\n  );\n  const [replyState, setReplyState] = useState(EditorState.createEmpty());\n  const [commentState, setCommentState] = useState(EditorState.createEmpty());\n  const handleChange = (event, newValue) => {\n    setIndexValue(newValue);\n  };\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appBarSection}>\n        <Tabs\n          value={indexValue}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n        >\n          <Tab\n            label=\"Reply\"\n            {...a11yProps(0)}\n            disabled={\n              props.threadStatus === \"CLOSED\" ||\n              props.threadStatus === \"COMPLETED\"\n            }\n          />\n          <Tab label=\"Comment\" {...a11yProps(1)} />\n        </Tabs>\n        <Button\n          variant=\"contained\"\n          endIcon={<SendIcon />}\n          className={classes.sendButton}\n          disabled={\n            (indexValue === 0 &&\n              replyState &&\n              replyState.getCurrentContent() &&\n              convertToRaw(replyState.getCurrentContent()).blocks[0].text <\n                1) ||\n            (indexValue === 1 &&\n              commentState &&\n              commentState.getCurrentContent() &&\n              convertToRaw(commentState.getCurrentContent()).blocks[0].text < 1)\n          }\n          onClick={async () => {\n            let body = {\n              body:\n                indexValue === 0\n                  ? draftToHtml(convertToRaw(replyState.getCurrentContent()))\n                  : draftToHtml(convertToRaw(commentState.getCurrentContent())),\n              type: indexValue === 0 ? \"EMAIL\" : \"COMMENT\",\n              visibility: \"PUBLIC\",\n            };\n            try {\n              props.onIsSendingMessage(true);\n              await sendData(`threads/${props.threadId}/messages`, body);\n              props.messagesRefresh();\n            } catch (error) {\n              console.log(error);\n            }\n            setReplyState(EditorState.createEmpty());\n            setCommentState(EditorState.createEmpty());\n            props.onIsSendingMessage(false);\n          }}\n        >\n          Send\n        </Button>\n      </AppBar>\n      <TabPanel\n        id=\"reply-input-section\"\n        value={indexValue}\n        index={0}\n        className={clsx(classes.tab, classes.replyTab)}\n      >\n        <Editor\n          editorState={replyState}\n          onEditorStateChange={(text) => {\n            setReplyState(text);\n          }}\n          editorClassName={classes.editor}\n          toolbar={{\n            options: [\"inline\", \"link\", \"list\"],\n            inline: {\n              inDropdown: false,\n              className: undefined,\n              component: undefined,\n              dropdownClassName: undefined,\n              options: [\"bold\", \"italic\", \"underline\"],\n            },\n          }}\n        />\n      </TabPanel>\n      <TabPanel\n        id=\"comment-input-section\"\n        value={indexValue}\n        index={1}\n        className={clsx(classes.tab, classes.commentTab)}\n      >\n        <Editor\n          editorState={commentState}\n          onEditorStateChange={(text) => {\n            setCommentState(text);\n          }}\n          editorClassName={classes.editor}\n          toolbar={{\n            options: [\"inline\", \"link\", \"list\"],\n            inline: {\n              inDropdown: false,\n              className: undefined,\n              component: undefined,\n              dropdownClassName: undefined,\n              options: [\"bold\", \"italic\", \"underline\"],\n            },\n          }}\n        />\n      </TabPanel>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { useQuery, useInfiniteQuery } from \"react-query\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { fetchData, sendData } from \"../services/httpUtil\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport MessageContent from \"../components/messageContent\";\nimport ShowCommentReply from \"../components/showCommentReply\";\nimport InputText from \"../components/inputText\";\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { RefresherComponent } from \"../components/helper\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Waypoint } from \"react-waypoint\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport { ResizableBox } from \"react-resizable\";\nimport \"../components/style/styles.css\";\n// import \"react-resizable/css/styles.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n    display: \"flex\",\n    flexFlow: \"column\",\n  },\n  grow: {\n    flexGrow: 1,\n    overflow: \"auto\",\n  },\n  input: {\n    width: \"100%\",\n    overflow: \"auto\",\n  },\n  messagesSection: {\n    flex: \"1\",\n    overflow: \"auto\",\n    paddingBottom: \"5px\",\n  },\n  main: {\n    flex: \"1\",\n    display: \"flex\",\n    flexFlow: \"column\",\n    overflow: \"auto\",\n  },\n  cardRoot: {\n    backgroundColor: \"rgba(255, 255, 255, 0)\",\n    boxShadow: \"0px 0px 0px 0px\",\n    height: \"64px\",\n  },\n}));\n\nconst PAGE_SIZE = 5;\n\nexport default function MessageInfo({\n  threadRefetch,\n  selectedThread,\n  onChangeStatus,\n  isChangingThreadStatus,\n}) {\n  const classes = useStyles();\n  const [isOnlyOne, setIsOnlyOne] = useState(false);\n  const [assigneeMenuAnchorEl, setAssigneeMenuAnchorEl] = useState(null);\n  const [statusMenuAnchorEl, setStatusMenuAnchorEl] = useState(null);\n  const [userAssignee, setUserAssignee] = useState(\"\");\n  const [listOfFilteredUsers, setListOfFilteredUsers] = useState([]);\n  const [changeAssigneeStatus, setChangeAssigneeStatus] = useState(\"\");\n  const [totalMessagesCount, setTotalMessagesCount] = useState(0);\n  const [isSendingMessage, setIsSendingMessage] = useState(false);\n  async function getMoreMessages(queryKey, page = 0) {\n    let data = await fetchData(\n      `threads/${selectedThread?.id}/messages?page=${page}&pageSize=${PAGE_SIZE}`\n    );\n    setTotalMessagesCount(data.totalCount);\n    return { data: data.data, page };\n  }\n\n  const {\n    data: messages,\n    status: messagesStatus,\n    refetch: messagesRefresh,\n    fetchMore: fetchMoreMessages,\n    canFetchMore: canFetchMoreMessages,\n    isFetchingMore: isFetchingMoreMessages,\n  } = useInfiniteQuery({\n    queryKey: `threads/${selectedThread?.id}/messages`,\n    queryFn: getMoreMessages,\n    config: {\n      getFetchMore: (lastGroup, allGroups) =>\n        lastGroup.page * PAGE_SIZE >= totalMessagesCount\n          ? false\n          : lastGroup.page + 1,\n      refetchOnWindowFocus: false,\n      enabled: selectedThread ? true : false,\n    },\n  });\n\n  const { data: threadsStatuses, status: threadsStatusesStatus } = useQuery({\n    queryKey: `threads/status`,\n    queryFn: fetchData,\n    config: {\n      refetchOnWindowFocus: false,\n      staleTime: 50000,\n    },\n  });\n\n  const [selectedAssignee, setSelectedAssignee] = useState();\n  useEffect(() => {\n    setSelectedAssignee(\n      selectedThread &&\n        selectedThread.assignee &&\n        selectedThread.assignee.firstName\n        ? `${selectedThread.assignee.firstName} ${selectedThread.assignee.lastName}`\n        : \"Unassigned\"\n    );\n  }, [selectedThread]);\n\n  const handleAssigneeClick = (event) => {\n    setAssigneeMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleAssigneeClose = () => {\n    setAssigneeMenuAnchorEl(null);\n  };\n\n  const { data: users, status: usersStatus } = useQuery({\n    queryKey: `users`,\n    queryFn: fetchData,\n    config: {\n      refetchOnWindowFocus: false,\n    },\n  });\n\n  async function changeAssignee(userId, username) {\n    setChangeAssigneeStatus(\"loading\");\n    try {\n      await sendData(\n        `reassign?assigneeId=${userId}&threadId=${selectedThread.id}`\n      );\n      setChangeAssigneeStatus(\"success\");\n      //---in case of success set the assignee\n      setSelectedAssignee(username);\n      threadRefetch();\n    } catch (error) {\n      setChangeAssigneeStatus(\"error\");\n      console.log(error);\n      return null;\n    }\n  }\n\n  useEffect(() => {\n    let filteredUsers;\n    if (userAssignee.length > 2 && users && users.length > 0) {\n      let upperCaseUserAssignee = userAssignee.toUpperCase();\n      filteredUsers = users.filter((user) => {\n        if (user.firstName.toUpperCase().indexOf(upperCaseUserAssignee) > -1) {\n          return true;\n        }\n        if (user.lastName.toUpperCase().indexOf(upperCaseUserAssignee) > -1) {\n          return true;\n        }\n        if (user.email.toUpperCase().indexOf(upperCaseUserAssignee) > -1) {\n          return true;\n        }\n        return false;\n      });\n      setListOfFilteredUsers(filteredUsers);\n    } else {\n      setListOfFilteredUsers([]);\n    }\n  }, [userAssignee, users]);\n\n  useEffect(() => {\n    if (messages && messages[0].data.length === 1) {\n      setIsOnlyOne(true);\n    }\n  }, [messages]);\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          {messages && messages[0].data.length > 0 ? (\n            <>\n              {usersStatus === \"loading\" ||\n              changeAssigneeStatus === \"loading\" ? (\n                <CircularProgress color=\"secondary\" />\n              ) : (\n                <Card className={classes.cardRoot}>\n                  <CardHeader\n                    style={{ cursor: \"pointer\" }}\n                    avatar={<AccountBoxIcon />}\n                    title={Boolean(assigneeMenuAnchorEl) ? null : \"Assignee\"}\n                    subheader={\n                      Boolean(assigneeMenuAnchorEl) ? null : selectedAssignee\n                    }\n                    onClick={handleAssigneeClick}\n                  />\n                </Card>\n              )}\n\n              <div className={classes.grow} />\n              {threadsStatusesStatus === \"success\" &&\n              threadsStatuses.length > 0 ? (\n                <Button\n                  aria-controls=\"status-menu-button\"\n                  aria-haspopup=\"true\"\n                  onClick={(e) => setStatusMenuAnchorEl(e.currentTarget)}\n                  endIcon={<ArrowDropDownIcon />}\n                >\n                  {selectedThread.status}\n                </Button>\n              ) : (\n                <CircularProgress color=\"secondary\" />\n              )}\n\n              <Menu\n                id=\"status-menu\"\n                anchorEl={statusMenuAnchorEl}\n                keepMounted={false}\n                open={Boolean(statusMenuAnchorEl)}\n                onClose={() => setStatusMenuAnchorEl(null)}\n              >\n                {threadsStatuses.map((ts) => {\n                  if (ts === selectedThread.status) return null;\n                  return (\n                    <MenuItem\n                      key={ts}\n                      onClick={() => {\n                        onChangeStatus(ts);\n                        setStatusMenuAnchorEl(null);\n                      }}\n                    >\n                      {`Mark as ${ts}`}\n                    </MenuItem>\n                  );\n                })}\n              </Menu>\n              {/* ---- */}\n\n              <StyledMenu\n                id=\"simple-menu\"\n                anchorEl={assigneeMenuAnchorEl}\n                keepMounted={false}\n                open={Boolean(assigneeMenuAnchorEl)}\n                onClose={handleAssigneeClose}\n                style={{\n                  marginLeft: \"45px\",\n                  marginTop: \"-10px\",\n                }}\n              >\n                <div style={{ padding: \"2px\" }}>\n                  <TextField\n                    placeholder=\"User\"\n                    value={userAssignee}\n                    onChange={(e) => setUserAssignee(e.target.value)}\n                    fullWidth\n                  />\n                </div>\n                {usersStatus === \"loading\" ? (\n                  <CircularProgress />\n                ) : listOfFilteredUsers && listOfFilteredUsers.length > 0 ? (\n                  listOfFilteredUsers.map((user) => {\n                    return (\n                      <div\n                        key={user.id}\n                        style={{\n                          backgroundColor: \"white\",\n                          border: \"1px solid #ffc107\",\n                        }}\n                      >\n                        <MenuItem\n                          onClick={(e) => {\n                            //TODO: set Assignee to selected user\n                            changeAssignee(\n                              user.id,\n                              `${user.firstName} ${user.lastName}`\n                            );\n                            handleAssigneeClose();\n                          }}\n                        >\n                          <Card style={{ boxShadow: \"none\", width: \"100%\" }}>\n                            <CardHeader\n                              avatar={<AccountBoxIcon />}\n                              title={`${user.firstName} ${user.lastName}`}\n                              subheader={user.email}\n                            />\n                          </Card>\n                        </MenuItem>\n                      </div>\n                    );\n                  })\n                ) : null}\n              </StyledMenu>\n            </>\n          ) : null}\n        </Toolbar>\n      </AppBar>\n\n      {isChangingThreadStatus ? (\n        <div style={{ margin: \"auto\" }}>\n          <CircularProgress />\n        </div>\n      ) : messages && messages.length > 0 ? (\n        <div className={classes.main}>\n          <div className={classes.messagesSection}>\n            {messages.map((msgGroup, i) => {\n              return (\n                <React.Fragment key={i}>\n                  {msgGroup.data &&\n                    msgGroup.data.map((msg) => {\n                      switch (msg.type) {\n                        case \"EMAIL\":\n                          return (\n                            <MessageContent\n                              key={msg.id}\n                              message={msg}\n                              isOnlyOne={isOnlyOne}\n                            />\n                          );\n                        case \"COMMENT\":\n                        default:\n                          return (\n                            <ShowCommentReply\n                              key={msg.id}\n                              message={msg}\n                              isOnlyOne={isOnlyOne}\n                            />\n                          );\n                      }\n                    })}\n                </React.Fragment>\n              );\n            })}\n            {!isFetchingMoreMessages &&\n            canFetchMoreMessages * PAGE_SIZE < totalMessagesCount ? (\n              <Waypoint onEnter={() => fetchMoreMessages()} />\n            ) : isFetchingMoreMessages ? (\n              <div\n                style={{\n                  margin: \"10px 0px\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <CircularProgress />\n              </div>\n            ) : (\n              <h4\n                style={{\n                  textAlign: \"center\",\n                  color: \"grey\",\n                }}\n              >\n                end of the list\n              </h4>\n            )}\n          </div>\n          <div className={classes.input}>\n            <InputText\n              threadStatus={selectedThread.status}\n              threadId={selectedThread.id}\n              messagesRefresh={messagesRefresh}\n              onIsSendingMessage={(state) => setIsSendingMessage(state)}\n            />\n          </div>\n        </div>\n      ) : messagesStatus === \"loading\" || isSendingMessage ? (\n        <div style={{ margin: \"auto\" }}>\n          <CircularProgress />\n        </div>\n      ) : messagesStatus === \"error\" ? (\n        <RefresherComponent handleRefresh={messagesRefresh} />\n      ) : (\n        <h2 style={{ textAlign: \"center\" }}>Select a thread to see messages</h2>\n      )}\n    </div>\n  );\n}\n\nconst StyledMenu = withStyles({\n  paper: {\n    backgroundColor: \"#ffffff00\",\n  },\n})((props) => <Menu elevation={0} getContentAnchorEl={null} {...props} />);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    verticalAlign: \"middle\",\n    width: \"100%\",\n  },\n  avatar: {\n    height: \"85px\",\n    width: \"85px\",\n    backgroundColor: theme.palette.primary.main,\n    fontSize: \"40px\",\n  },\n}));\n\nconst ContactProfile = (props) => {\n  const classes = useStyles();\n  const { contactFirstName, contactLastName, email } = props.selectedContact;\n  if (!props.selectedContact) return null;\n  return (\n    <div className={classes.root}>\n      {contactFirstName && contactLastName ? (\n        <Avatar\n          className={classes.avatar}\n        >{`${contactFirstName[0]}${contactLastName[0]}`}</Avatar>\n      ) : null}\n\n      <Typography variant=\"h6\">{`${contactFirstName} ${contactLastName}`}</Typography>\n      <Typography variant=\"subtitle1\">{email}</Typography>\n    </div>\n  );\n};\nexport default ContactProfile;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    flex: \"1\",\n    overflow: \"auto\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: \"33.33%\",\n    flexShrink: 0,\n  },\n  scroll: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    // width: \"inherit\",\n    maxWidth: \"90%\",\n  },\n}));\n\nexport default function ContactDetails(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(\"panel1\");\n  const { selectedContact } = props;\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion\n        expanded={expanded === \"panel1\"}\n        onChange={handleChange(\"panel1\")}\n      >\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1bh-content\"\n          id=\"panel1bh-header\"\n          style={{ backgroundColor: \"#d4d4d4\" }}\n        >\n          <Typography className={classes.heading}>\n            About this contact\n          </Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <div>\n            <Typography variant=\"subtitle1\">First Name:</Typography>\n            <Typography variant=\"subtitle2\">\n              {selectedContact && selectedContact.contactFirstName\n                ? selectedContact.contactFirstName\n                : \"Unknown\"}\n            </Typography>\n            <br />\n            <Typography variant=\"subtitle1\">Last Name:</Typography>\n            <Typography variant=\"subtitle2\">\n              {selectedContact && selectedContact.contactLastName\n                ? selectedContact.contactLastName\n                : \"Unknown\"}\n            </Typography>\n            <br />\n            <Typography variant=\"subtitle1\">Email:</Typography>\n            <Typography variant=\"subtitle2\">\n              {selectedContact && selectedContact.email\n                ? selectedContact.email\n                : \"No Email Address\"}\n            </Typography>\n            <br />\n            <Typography variant=\"subtitle1\">Phone number:</Typography>\n            <Typography variant=\"subtitle2\">\n              {selectedContact && selectedContact.telephone\n                ? selectedContact.telephone\n                : \"No Phone Number\"}\n            </Typography>\n            <br />\n            <Typography variant=\"subtitle1\">Company name:</Typography>\n            <Typography variant=\"subtitle2\">\n              {selectedContact && selectedContact.companyName\n                ? selectedContact.companyName\n                : \"No Company Name\"}\n            </Typography>\n          </div>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport Fade from \"@material-ui/core/Fade\";\nimport ContactProfile from \"../components/contactProfile\";\nimport ContactDetails from \"../components/contactDetails\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { Typography } from \"@material-ui/core\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst drawerWidth = \"20%\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appbarHieght: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    backgroundColor: theme.palette.primary.main,\n    ...theme.mixins.toolbar,\n  },\n  menuButton: {\n    width: 42,\n    height: 42,\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    height: \"100vh\",\n    display: \"flex\",\n    flexFlow: \"column\",\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    [theme.breakpoints.down(\"md\")]: {\n      width: \"50vh\",\n    },\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    transitionTimingFunction: \"cubic-bezier(0.6, -0.28, 0.74, 0.05)\",\n    transitionDuration: \"500ms\",\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(4) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(5) + 1,\n    },\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(0),\n  },\n  customerInfoSection: {\n    paddingTop: \"5px\",\n    flex: \"1\",\n    overflow: \"auto\",\n    display: \"flex\",\n    flexFlow: \"column\",\n  },\n}));\n\nconst Customer = ({ Contacts }) => {\n  const classes = useStyles();\n  const [openDrawer, setOpenDrawer] = React.useState(false);\n  const [openSnackbar, setOpenSnackbar] = React.useState(false);\n\n  const selectedContact = Contacts && Contacts[0];\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenSnackbar(false);\n  };\n  useEffect(() => {\n    if (!selectedContact) {\n      setOpenDrawer(false);\n    } else {\n      setOpenDrawer(true);\n    }\n  }, [selectedContact]);\n\n  const handleDrawerOpen = () => {\n    !selectedContact ? setOpenSnackbar(true) : setOpenDrawer(true);\n  };\n  const handleDrawerClose = () => {\n    setOpenDrawer(false);\n  };\n  return (\n    <Drawer\n      variant=\"permanent\"\n      anchor=\"right\"\n      className={clsx(classes.drawer, {\n        [classes.drawerOpen]: openDrawer,\n        [classes.drawerClose]: !openDrawer,\n      })}\n      classes={{\n        paper: clsx({\n          [classes.drawerOpen]: openDrawer,\n          [classes.drawerClose]: !openDrawer,\n        }),\n      }}\n    >\n      <div className={classes.appbarHieght}>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={handleDrawerOpen}\n          className={clsx(classes.menuButton, {\n            [classes.hide]: openDrawer,\n          })}\n          disabled={!selectedContact || selectedContact.length < 1}\n        >\n          <PersonIcon />\n        </IconButton>\n        <IconButton\n          className={clsx(classes.menuButton, {\n            [classes.hide]: !openDrawer,\n          })}\n          onClick={handleDrawerClose}\n        >\n          <ChevronRightIcon />\n        </IconButton>\n        <div\n          className={clsx({\n            [classes.hide]: !openDrawer,\n          })}\n          style={{ margin: \"auto\" }}\n        >\n          <Typography\n            variant=\"h5\"\n            align=\"center\"\n            style={{ marginRight: \"48px\" }}\n          >\n            Contact\n          </Typography>\n        </div>\n      </div>\n      <Fade\n        in={openDrawer}\n        timeout={{ enter: 1000, exit: 500 }}\n        className={clsx({\n          [classes.hide]: !openDrawer,\n        })}\n      >\n        <div\n          style={{\n            flex: \"1\",\n            overflow: \"auto\",\n            display: \"flex\",\n            flexFlow: \"column\",\n          }}\n        >\n          <div\n            className={clsx(classes.customerInfoSection, {\n              [classes.hide]: !openDrawer,\n            })}\n          >\n            <ContactProfile\n              selectedContact={selectedContact ? selectedContact : \"Unknown\"}\n            />\n            <Divider />\n            <ContactDetails\n              selectedContact={selectedContact ? selectedContact : \"Unknown\"}\n            />\n          </div>\n        </div>\n      </Fade>\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        open={openSnackbar}\n        autoHideDuration={4000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert severity=\"error\">Contact not selected</Alert>\n      </Snackbar>\n    </Drawer>\n  );\n};\n\nexport default Customer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport SearchBox from \"../components/searchBox\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FirstCharOfName from \"../components/firstCharOfName\";\nimport FilterMenuForThreads from \"../components/filterMenuForThreads\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Box from \"@material-ui/core/Box\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { fetchData, sendData } from \"../services/httpUtil\";\nimport { useQuery, useInfiniteQuery } from \"react-query\";\nimport { RefresherComponent, showDate } from \"../components/helper\";\nimport MessageInfo from \"./messageInfo\";\nimport Customer from \"./customer\";\nimport { Waypoint } from \"react-waypoint\";\nimport { ResizableBox } from \"react-resizable\";\nimport \"../components/style/styles.css\";\n// import \"react-resizable/css/styles.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    //overflow: \"hidden\",\n    width: \"100%\",\n    height: \"100vh\",\n    display: \"flex\",\n  },\n  list: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n    position: \"relative\",\n    overflow: \"auto\",\n    height: \"calc(100vh - 66px)\",\n  },\n  listSection: {\n    backgroundColor: \"inherit\",\n  },\n  ul: {\n    backgroundColor: \"inherit\",\n    padding: 0,\n  },\n  inline: {\n    display: \"inline\",\n  },\n  searchInputOpen: {\n    width: \"80%\",\n    overflow: \"hidden\",\n    backgroundColor: \"#cecece\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  searchInputClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(5) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(5) + 1,\n    },\n  },\n  hide: {\n    display: \"none\",\n  },\n  tools: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    width: \"100%\",\n    backgroundColor: theme.palette.primary.main,\n    boxShadow: \"0px 0px 0px 0px\",\n  },\n  toolbar: {\n    // display: \"flex\",\n    // justifyContent: \"center\",\n    width: \"100%\",\n  },\n  space: {\n    flexGrow: 10,\n  },\n  threads: {\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"35vh\",\n      overflow: \"auto\",\n    },\n  },\n  messageInfo: {\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"55vh\",\n      overflow: \"auto\",\n    },\n  },\n  content: {\n    width: \"100%\",\n  },\n}));\n\nconst Threads = ({ channelID }) => {\n  const PAGE_SIZE = 10;\n  const classes = useStyles();\n  const [filter, setFilter] = useState(\"\");\n  const [isChangingThreadStatus, setIsChangingThreadStatus] = useState(false);\n  const [showSearchInput, setShowSearchInput] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchByQuery, setSearchByQuery] = useState(false);\n  const [totalThreadsCount, setTotalThreadsCount] = useState(0);\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\n  useEffect(() => {\n    window.addEventListener(\"resize\", () =>\n      setWindowHeight(window.innerHeight)\n    );\n  }, []);\n\n  const { data: threadStatuses, status: threadStatusesStatus } = useQuery({\n    queryKey: `threads/status`,\n    queryFn: fetchData,\n    config: {\n      refetchOnWindowFocus: false,\n      staleTime: 50000,\n    },\n  });\n  useEffect(() => {\n    if (threadStatusesStatus === \"success\" && threadStatuses.length > 0) {\n      setFilter(threadStatuses[0]);\n    }\n  }, [threadStatuses, threadStatusesStatus]);\n\n  async function getMoreThreads(queryKey, page = 0) {\n    let data = await fetchData(\n      `channels/${channelID}/threads?page=${page}&pageSize=${PAGE_SIZE}&status=${filter}`\n    );\n    setTotalThreadsCount(data.totalCount);\n    return { data: data.data, page };\n  }\n  const {\n    data: fetchedThreads,\n    status: threadsStatus,\n    refetch: threadRefetch,\n    fetchMore: fetchMoreThreads,\n    canFetchMore: canFetchMoreThreads,\n    isFetchingMore: isFetchingMoreThreads,\n  } = useInfiniteQuery({\n    queryKey: `${\n      !showSearchInput\n        ? `channels/${channelID}/threads?page=0&pageSize=10&status=${filter}`\n        : showSearchInput && searchByQuery\n        ? `channels/${channelID}/threads/search?searchQuery=${searchQuery}`\n        : null\n    }`,\n    queryFn: !showSearchInput\n      ? getMoreThreads\n      : showSearchInput && searchByQuery\n      ? fetchData\n      : null,\n    config: {\n      getFetchMore: (lastGroup, allGroups) =>\n        lastGroup.page * PAGE_SIZE >= totalThreadsCount\n          ? false\n          : lastGroup.page + 1,\n      refetchOnWindowFocus: false,\n      enabled: channelID ? true : false,\n    },\n  });\n  const handleToggleSearchInput = () => {\n    setShowSearchInput(!showSearchInput);\n  };\n\n  const [selectedThread, setSelectedThread] = useState();\n  console.log(\"threads: \", fetchedThreads);\n  useEffect(() => {\n    if (\n      threadsStatus === \"success\" &&\n      fetchedThreads &&\n      fetchedThreads[0].data &&\n      fetchedThreads[0].data.length > 0\n    ) {\n      setSelectedThread(fetchedThreads[0].data[0]);\n    } else {\n      setSelectedThread();\n    }\n  }, [fetchedThreads, threadsStatus]);\n\n  async function changeThreadStatus(status) {\n    setIsChangingThreadStatus(true);\n    try {\n      await sendData(`threads/${selectedThread.id}/status?status=${status}`);\n      threadRefetch();\n    } catch (error) {\n      console.log(error);\n    }\n    setIsChangingThreadStatus(false);\n  }\n\n  return (\n    <>\n      <main className={classes.content}>\n        <div className={classes.root}>\n          <ResizableBox\n            className=\"box\"\n            height={windowHeight}\n            width={300}\n            axis=\"x\"\n            resizeHandles={[\"e\"]}\n          >\n            <div>\n              <AppBar position=\"sticky\">\n                <Toolbar className={classes.toolbar}>\n                  <Zoom in={!showSearchInput}>\n                    <Paper\n                      className={clsx({\n                        [classes.tools]: !showSearchInput,\n                        [classes.hide]: showSearchInput,\n                      })}\n                    >\n                      <FilterMenuForThreads\n                        onMenuChange={(selectedType) => {\n                          setFilter(selectedType);\n                        }}\n                        threadStatuses={threadStatuses}\n                        threadStatusesStatus={threadStatusesStatus}\n                      />\n                      <IconButton\n                        aria-label=\"delete\"\n                        onClick={handleToggleSearchInput}\n                        size=\"small\"\n                      >\n                        <SearchIcon />\n                      </IconButton>\n                    </Paper>\n                  </Zoom>\n                  <Zoom in={showSearchInput}>\n                    <Paper\n                      className={clsx({\n                        [classes.tools]: showSearchInput,\n                        [classes.hide]: !showSearchInput,\n                      })}\n                    >\n                      <SearchBox\n                        value={searchQuery}\n                        onToggle={handleToggleSearchInput}\n                        show={showSearchInput}\n                        onChange={(e) => {\n                          setSearchByQuery(false);\n                          setSearchQuery(e.target.value);\n                        }}\n                        onSearchQueryClick={() => setSearchByQuery(true)}\n                      />\n                    </Paper>\n                  </Zoom>\n                </Toolbar>\n              </AppBar>\n\n              <Paper variant={\"outlined\"}>\n                <List className={classes.list}>\n                  {threadsStatus === \"loading\" ? (\n                    [...Array(20)].map((e, i) => (\n                      <React.Fragment key={i}>\n                        <ListItem alignItems=\"flex-start\" key={i}>\n                          <Box width={\"100%\"}>\n                            <Skeleton />\n                            <Skeleton width=\"60%\" />\n                          </Box>\n                        </ListItem>\n                        <Divider variant=\"middle\" component=\"li\" />\n                      </React.Fragment>\n                    ))\n                  ) : threadsStatus === \"success\" &&\n                    fetchedThreads &&\n                    fetchedThreads.data &&\n                    fetchedThreads.data.length < 1 ? (\n                    <h2 style={{ textAlign: \"center\", color: \"#5b5b5b\" }}>\n                      No Thread\n                    </h2>\n                  ) : threadsStatus === \"success\" &&\n                    fetchedThreads.length > 0 ? (\n                    fetchedThreads.map((threadsGroup, i) =>\n                      threadsGroup.data.map((thread) => {\n                        return (\n                          <React.Fragment key={thread.id}>\n                            <ListItem\n                              button\n                              alignItems=\"flex-start\"\n                              selected={selectedThread?.id === thread.id}\n                              onClick={() => setSelectedThread(thread)}\n                            >\n                              <ListItemAvatar>\n                                <FirstCharOfName\n                                  size=\"small\"\n                                  firstName={\n                                    thread.contacts[0].contactFirstName[0]\n                                  }\n                                  lastName={\n                                    thread.contacts[0].contactLastName[0]\n                                  }\n                                />\n                              </ListItemAvatar>\n                              <ListItemText\n                                primary={thread.subject}\n                                secondary={\n                                  <React.Fragment>\n                                    <Typography\n                                      component=\"span\"\n                                      variant=\"body2\"\n                                      className={classes.inline}\n                                      color=\"textPrimary\"\n                                    >\n                                      {thread.tag}\n                                      {\" - \"}\n                                    </Typography>\n                                    <Typography variant=\"caption\">\n                                      {showDate(thread.createdDate)}\n                                    </Typography>\n                                  </React.Fragment>\n                                }\n                              />\n                            </ListItem>\n                            <Divider component=\"li\" />\n                          </React.Fragment>\n                        );\n                      })\n                    )\n                  ) : threadsStatus === \"error\" ? (\n                    <RefresherComponent handleRefresh={threadRefetch} />\n                  ) : null}\n                  {!isFetchingMoreThreads &&\n                  canFetchMoreThreads * PAGE_SIZE < totalThreadsCount ? (\n                    <Waypoint onEnter={() => fetchMoreThreads()} />\n                  ) : isFetchingMoreThreads ? (\n                    <div\n                      style={{\n                        margin: \"10px 0px\",\n                        display: \"flex\",\n                        justifyContent: \"center\",\n                      }}\n                    >\n                      <CircularProgress />\n                    </div>\n                  ) : null}\n                </List>\n              </Paper>\n            </div>\n          </ResizableBox>\n          <div style={{ flex: \"1\" }}>\n            <MessageInfo\n              threadRefetch={threadRefetch}\n              selectedThread={selectedThread}\n              onChangeStatus={changeThreadStatus}\n              isChangingThreadStatus={isChangingThreadStatus}\n            />\n          </div>\n        </div>\n      </main>\n      <Customer Contacts={selectedThread?.contacts} />\n    </>\n  );\n};\n\nexport default Threads;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Channels from \"./layouts/channels\";\nimport Threads from \"./layouts/threads\";\nimport { fetchData } from \"./services/httpUtil\";\nimport { useQuery } from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query-devtools\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nconst drawerWidth = \"15%\";\n\nconst useStyles = makeStyles((theme) => ({\n  smallScreenSection: {\n    backgroundColor: \"#f1f1f1\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    marginTop: \"20%\",\n    textAlign: \"center\",\n  },\n  root: {\n    display: \"flex\",\n  },\n  menuButton: {\n    width: 42,\n    height: 42,\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(0),\n    height: \"100vh\",\n  },\n  backdropRoot: {\n    display: \"flex\",\n    \"& > * + *\": {\n      marginLeft: theme.spacing(1),\n      alignItems: \"center\",\n      justify: \"center\",\n      height: \"100vh\",\n    },\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n  const isSmallScreen = useMediaQuery(\"(min-width:700px)\");\n  const [selectedChannelID, setSelectedChannelID] = useState();\n\n  const {\n    data: fetchedChannels,\n    status: channelsStatus,\n    refetch: channelsRefetch,\n  } = useQuery({\n    queryKey: \"channels\",\n    queryFn: fetchData,\n    config: { refetchOnWindowFocus: false },\n  });\n\n  useEffect(() => {\n    if (channelsStatus === \"success\" && fetchedChannels.length > 0) {\n      setSelectedChannelID(fetchedChannels[0].id);\n    }\n  }, [channelsStatus, fetchedChannels]);\n\n  useEffect(() => {\n    let myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n    let data = new FormData();\n    data.append(\"username\", \"ashkala\");\n    data.append(\"password\", \"block-monitored-policebox\");\n\n    let requestOptions = {\n      method: \"POST\",\n      // headers: myHeaders,\n      body: data,\n      redirect: \"follow\",\n    };\n    fetch(\"https://app.rerumapp.uk/test/authenticate\", requestOptions)\n      .then((response) => response.text())\n      .then((result) => localStorage.setItem(\"TOKEN\", JSON.parse(result).token))\n      .catch((error) => console.log(\"error in token\", error));\n  }, []);\n  if (!isSmallScreen) {\n    return (\n      <div className={classes.smallScreenSection}>\n        <h3>The page cannot be displayed on this screen</h3>\n      </div>\n    );\n  }\n  return (\n    <div className={classes.root}>\n      {process.env.REACT_APP_ENV === \"DEV\" ? <ReactQueryDevtools /> : null}\n      <CssBaseline />\n      <Channels\n        status={channelsStatus}\n        refetch={channelsRefetch}\n        channels={fetchedChannels}\n        onSelectedChannelChange={(channelID) => {\n          setSelectedChannelID(channelID);\n        }}\n        selectedChannelId={selectedChannelID}\n      />\n\n      <Threads channelID={selectedChannelID} />\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"font-awesome/css/font-awesome.css\";\nimport \"typeface-roboto\";\nimport { red, amber } from \"@material-ui/core/colors\";\n\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n\nimport { setDefaultTranslations, setDefaultLanguage } from \"react-multi-lang\";\n// @ts-ignore\nimport en from \"./languages/en.json\";\n// @ts-ignore\nimport fr from \"./languages/fr.json\";\n\nsetDefaultTranslations({ en, fr });\nsetDefaultLanguage(\"en\");\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      dark: \"#d67200\",\n      main: \"#f69321\",\n      light: \"#ffb560\",\n    },\n\n    secondary: {\n      main: amber[500],\n    },\n  },\n});\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}